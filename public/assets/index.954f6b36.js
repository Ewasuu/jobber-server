import{c as F,r as y,o as _,a as m,b as t,d as C,w as p,e as k,f as u,g as d,i as U,h as g,v,j as f,p as E,u as Z,F as M,k as j,l as x,t as h,m as H,n as P,q as w,s as R,x as G,y as W,z as Y,A as K,B as Q,C as X,D as ee}from"./vendor.1bc637a1.js";const oe=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}};oe();const c=F({state:{log:!1,favourites:[],google:!1,name:null,added:!1,removed:!1,isUp:!1,loading:!1},mutations:{setUser(e,{favourites:a,google:r,name:o}){e.log=!0,e.favourites=a,e.google=r,e.name=o},removeUser(e){e.log=!1,e.favourites=[],e.google=!1,e.name=null},loader(e){e.loading=!e.loading},Add(e){e.added=!e.added},Remove(e){e.removed=!e.removed},isup(e){e.isUp=!e.isUp}},actions:{addAllData({commit:e},a){e("setUser",a)},removeAllData({commit:e}){e("removeUser")},loading({commit:e}){e("loader")},Added({commit:e}){e("Add"),setTimeout(()=>{e("isup")},1400),setTimeout(()=>{e("Add"),e("isup")},2e3)},Removed({commit:e}){e("Remove"),setTimeout(()=>{e("isup")},1400),setTimeout(()=>{e("Remove"),e("isup")},2e3)}},getters:{getUserData(e){return{log:e.log,favourites:e.favourites,google:e.google,name:e.name,added:e.added,removed:e.removed,isUp:e.isUp,loading:e.loading}}}});var b=(e,a)=>{const r=e.__vccOpts||e;for(const[o,i]of a)r[o]=i;return r};const ae={name:"mobileMenu",props:{openMenu:Function},methods:{async handleClickSignOut(){try{await this.$gAuth.signOut(),c.dispatch("removeAllData"),window.localStorage.clear(),this.user=""}catch(e){console.error(e)}}},computed:{isLog(){return c.getters.getUserData.log},google(){return c.getters.getUserData.google}},setup(){return{handleClickSignOutNormal:()=>{c.dispatch("removeAllData"),window.localStorage.clear()}}}},se={class:"mobile__menu container"},te=d("Log In"),ne=d("Sign In"),re=d("Home"),ie=d("My Jobs"),le=d("About");function ce(e,a,r,o,i,n){const s=y("router-link");return _(),m("div",se,[t("button",{onClick:a[0]||(a[0]=(...l)=>r.openMenu&&r.openMenu(...l)),class:"close__btn"},"\uF410"),n.isLog?k("",!0):(_(),C(s,{key:0,onClick:r.openMenu,class:"mobile__link",to:"/login"},{default:p(()=>[te]),_:1},8,["onClick"])),n.isLog?k("",!0):(_(),C(s,{key:1,onClick:r.openMenu,class:"mobile__link",to:"/signin"},{default:p(()=>[ne]),_:1},8,["onClick"])),u(s,{onClick:r.openMenu,class:"mobile__link",to:"/"},{default:p(()=>[re]),_:1},8,["onClick"]),n.isLog?(_(),C(s,{key:2,onClick:r.openMenu,class:"mobile__link",to:"/myjobs"},{default:p(()=>[ie]),_:1},8,["onClick"])):k("",!0),u(s,{onClick:r.openMenu,class:"mobile__link",to:"/about"},{default:p(()=>[le]),_:1},8,["onClick"]),n.isLog&&n.google?(_(),m("button",{key:3,onClick:a[1]||(a[1]=(...l)=>n.handleClickSignOut&&n.handleClickSignOut(...l)),class:"mobile__link-logout"},"Log out")):k("",!0),n.isLog&&!n.google?(_(),m("button",{key:4,onClick:a[2]||(a[2]=(...l)=>o.handleClickSignOutNormal&&o.handleClickSignOutNormal(...l)),class:"mobile__link-logout"},"Log out")):k("",!0)])}var de=b(ae,[["render",ce]]);const _e={name:"mainHeader",props:{openMenu:Function},methods:{async handleClickSignOut(){try{await this.$gAuth.signOut(),c.dispatch("removeAllData"),window.localStorage.clear(),this.user=""}catch(e){console.error(e)}}},computed:{isLog(){return c.getters.getUserData.log},google(){return c.getters.getUserData.google}},components:{mobileMenu:de},setup(){return{mobileMenuOpen:U("mobileMenuOpen"),handleClickSignOutNormal:()=>{c.dispatch("removeAllData"),window.localStorage.clear()}}}},ue={class:"main__header"},me={class:"main__nav container"},pe=d("obber"),he=d("Log In"),ge=d("Sign In"),fe=d("Home"),ve=d("My Jobs"),be=d("About");function ke(e,a,r,o,i,n){const s=y("router-link"),l=y("mobileMenu");return _(),m("header",ue,[t("nav",me,[u(s,{class:"logo",to:"/"},{default:p(()=>[pe]),_:1}),t("div",null,[t("button",{onClick:a[0]||(a[0]=(...S)=>r.openMenu&&r.openMenu(...S)),class:"nav__btn"},"\uF0C9"),n.isLog?k("",!0):(_(),C(s,{key:0,class:"nav__link",to:"/login"},{default:p(()=>[he]),_:1})),n.isLog?k("",!0):(_(),C(s,{key:1,class:"nav__link",to:"/signin"},{default:p(()=>[ge]),_:1})),u(s,{class:"nav__link",to:"/"},{default:p(()=>[fe]),_:1}),n.isLog?(_(),C(s,{key:2,class:"nav__link",to:"/myjobs"},{default:p(()=>[ve]),_:1})):k("",!0),u(s,{class:"nav__link",to:"/about"},{default:p(()=>[be]),_:1}),n.isLog&&n.google?(_(),m("button",{key:3,onClick:a[1]||(a[1]=(...S)=>n.handleClickSignOut&&n.handleClickSignOut(...S)),class:"nav__link-logout"},"Log out")):k("",!0),n.isLog&&!n.google?(_(),m("button",{key:4,onClick:a[2]||(a[2]=(...S)=>o.handleClickSignOutNormal&&o.handleClickSignOutNormal(...S)),class:"nav__link-logout"},"Log out")):k("",!0)]),g(u(l,{openMenu:r.openMenu},null,8,["openMenu"]),[[v,o.mobileMenuOpen]])])])}var ye=b(_e,[["render",ke]]);const Se={name:"spinner"},we={class:"spinner"};function je(e,a,r,o,i,n){return _(),m("div",we)}var V=b(Se,[["render",je]]);const Ce={name:"app",components:{mainHeader:ye,spinner:V},computed:{loading(){return c.getters.getUserData.loading}},setup(){const e=f(!1),a=E("mobileMenuOpen",e),r=Z(),o=()=>{e.value=!e.value},i=()=>{r.go(-1)};return(()=>{const s=window.localStorage.getItem("tk");s&&(c.dispatch("loading"),fetch("https://jobberr.herokuapp.com/api/login/keep",{method:"POST",headers:{"x-token":s,"Content-Type":"application/json"}}).then(l=>l.json()).then(l=>{l.success?(c.dispatch("loading"),window.localStorage.setItem("tk",l.token),c.dispatch("addAllData",l.authenticatedUser)):(c.dispatch("loading"),console.log(l),window.localStorage.clear())}))})(),{mobileMenuOpen:e,openState:a,handleMobileMenuOpen:o,handleClick:i}}},$e=t("button",null,[t("i",{class:"fas fa-arrow-left"})],-1),Ie=[$e];function Le(e,a,r,o,i,n){const s=y("mainHeader"),l=y("router-view"),S=y("spinner");return _(),m(M,null,[u(s,{openMenu:o.handleMobileMenuOpen},null,8,["openMenu"]),t("div",{onClick:a[0]||(a[0]=(...I)=>o.handleClick&&o.handleClick(...I)),class:"goback"},Ie),g(u(l,null,null,512),[[v,!n.loading]]),g(u(S,null,null,512),[[v,n.loading]])],64)}var Ae=b(Ce,[["render",Le]]),Me="/assets/barsgraphics.df95e660.svg",Oe="/assets/graphic.40e966a8.svg",Ue="/assets/clock.17aa7dd0.svg",xe="/assets/goodpay.528ed0a8.svg";const Ne={name:"Home",computed:{name(){return c.getters.getUserData.name},isLog(){return c.getters.getUserData.log}},setup(){const e=f("");return{handleSubmit:()=>{e.value!==""&&$.push(`/search/${e.value.replace(/[^A-Za-z]/g,"+")}`)},searchQuery:e}}},Te={class:"home container"},De={key:0,class:"user__welcome"},Ee=t("p",null,"Start searching for new oportunitties!",-1),He=H('<div class="home__pictures"><div class="picture__container"><div class="img__separator"><img src="'+Me+'" alt="bar graphics"></div><p class="home__gallery-description">Improve your skills</p></div><div class="picture__container"><div class="img__separator"><img src="'+Oe+'" alt="cake graphics"></div><p class="home__gallery-description">Most probably to get hired</p></div><div class="picture__container"><div class="img__separator"><img src="'+Ue+'" alt="clock"></div><p class="home__gallery-description">Work on differents world times</p></div><div class="picture__container"><div class="img__separator"><img src="'+xe+'" alt="wallet"></div><p class="home__gallery-description">Better pay</p></div></div>',1);function Pe(e,a,r,o,i,n){return _(),m("section",Te,[t("form",{onSubmit:a[2]||(a[2]=x((...s)=>o.handleSubmit&&o.handleSubmit(...s),["prevent"])),class:"search__form"},[t("label",{onClick:a[0]||(a[0]=(...s)=>o.handleSubmit&&o.handleSubmit(...s)),class:"search__label",for:"search__input"},"\uF002"),g(t("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>o.searchQuery=s),required:"",placeholder:"Search a Job...",class:"search__input",id:"search__input",type:"text"},null,512),[[j,o.searchQuery,void 0,{trim:!0}]])],32),n.isLog?(_(),m("div",De,[t("p",null,"Hi "+h(n.name)+", are you ready for improve your carerr?",1),Ee])):k("",!0),He])}var Re=b(Ne,[["render",Pe]]);const Ve={name:"About"},ze={class:"container"},Je=H('<div class="data"><p class="about__p">Jobber is an web app to found new jobs. Is created wit the api from <a href="https://developer.adzuna.com/" target="blank">https://developer.adzuna.com/</a> and my own api to save the data.</p><p class="about__p">This web app was crated with vue.js and node.js</p><div class="about__img-container"><div class="about__item"><a href="https://vuejs.org/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vue.js_Logo_2.svg/1200px-Vue.js_Logo_2.svg.png" alt="vue.js"><small class="about__small">Vue.js</small></a></div><div class="about__item"><a href="https://nodejs.org/" target="_blank"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Node.js_logo.svg/800px-Node.js_logo.svg.png" alt="Node.js"><small class="about__small">Node.js</small></a></div></div><div class="my__links-container"><a class="about__my-links" href="https://github.com/Ewasuu" target="_blank"><i class="fa-brands fa-github"></i></a><a class="about__my-links" href="https://www.linkedin.com/in/edward-colmenarez-b1670720a/" target="_blank"><i class="fa-brands fa-linkedin"></i></a></div></div>',1),qe=[Je];function Be(e,a,r,o,i,n){return _(),m("div",ze,qe)}var Fe=b(Ve,[["render",Be]]);const z=(e,a)=>{if(c.getters.getUserData.log)if(e.target.classList.contains("far")){const o={favourite:{id:a.id,title:a.title,description:a.description,salary_min:a.salary_min,salary_max:a.salary_max,display_name:a.company.display_name,area:a.location.area[0],location:a.location.display_name,created:a.created,label:a.category.label}};e.target.classList.replace("far","fas");const i=window.localStorage.getItem("tk");fetch("https://jobberr.herokuapp.com/api/favourites/add",{method:"PUT",headers:{"x-token":i,"Content-Type":"application/json"},body:JSON.stringify(o)}).then(n=>n.json()).then(n=>{n.success?(c.dispatch("addAllData",n.user),c.dispatch("Added")):(console.log(n),e.target.classList.replace("fas","far"))}).catch(n=>{n.succes||e.target.classList.replace("fas","far")})}else{const o={favourite:{id:a.id}};e.target.classList.replace("fas","far");const i=window.localStorage.getItem("tk");fetch("https://jobberr.herokuapp.com/api/favourites/remove",{method:"DELETE",headers:{"x-token":i,"Content-Type":"application/json"},body:JSON.stringify(o)}).then(n=>n.json()).then(n=>{n.success?(c.dispatch("addAllData",n.user),c.dispatch("Removed")):e.target.classList.replace("far","fas")}).catch(n=>{n.success||e.target.classList.replace("far","fas")})}else $.push("/login")},Ze={name:"myJobs",methods:{favHandler:z},computed:{favourites(){return c.getters.getUserData.favourites}}},Ge={class:"job__section containerItem"},We={class:"job__header containerItem"},Ye={class:"job__title"},Ke={class:"job__body containerItem"},Qe={class:"job__description"},Xe={class:"job__action"},eo=d("Read more "),oo=["href"],ao={class:"job__footer containerItem"},so={class:"job__span"},to={class:"job__provider"},no=d("Posted by "),ro={class:"job__span"},io={class:"job__somedata"},lo=d("Located on "),co={class:"job__span job__location"},_o={class:"job__somedata"},uo=d("Posted on "),mo={class:"job__span"},po={class:"job__somedata"},ho=d("Tag: "),go={class:"job__span"},fo=["onClick"],vo={key:1,class:"no__favs"},bo=t("p",null,"You don't have any job here yet, add some few by clicking the fav button",-1),ko=[bo];function yo(e,a,r,o,i,n){return _(),m("div",Ge,[n.favourites.length!==0?(_(!0),m(M,{key:0},P(n.favourites,s=>(_(),m("article",{class:"job__container",key:s.id},[t("div",We,[t("h4",Ye,h(s.title),1)]),t("div",Ke,[t("p",Qe,h(s.description),1),t("p",Xe,[eo,t("a",{class:"job__go",target:"blank",href:s.redirect_url},"Here",8,oo)])]),t("div",ao,[t("p",so,h(s.salary_min)+"\u20AC - "+h(s.salary_max)+"\u20AC per year",1),t("p",to,[no,t("span",ro,h(s.display_name),1)]),t("p",io,[lo,t("span",co,h(s.area[0])+", "+h(s.location),1)]),t("p",_o,[uo,t("span",mo,h(s.created),1)]),t("p",po,[ho,t("span",go,h(s.label),1)]),t("button",{onClick:l=>n.favHandler(l,s),class:"fav__btn"},[t("i",{class:w(n.favourites.some(l=>l.id===s.id)?"fas fa-heart":"far fa-heart")},null,2)],8,fo)])]))),128)):(_(),m("div",vo,ko))])}var So=b(Ze,[["render",yo]]);const L={API:"https://api.adzuna.com/v1/api/jobs/gb/search/1?",ID:"app_id=48ef5d75",APIKEY:"&app_key=c16f91a9383f76f7e01b9ea757d5ff6a",RESULTS:"&results_per_page=",WHAT:"&what="},wo=async({loading:e,jobs:a,search:r,page:o,perPaage:i=10})=>{e.value=!0,a.value=[],a.value=await fetch(`${L.API}${L.ID}${L.APIKEY}${L.RESULTS}${i*parseInt(o.value)||i*parseInt(o)}${L.WHAT}${r}`).then(s=>s.json()).then(s=>{const{results:l}=s;return l}).catch(s=>{e.value=!1,console.error(s)}),(i*parseInt(o.value)||i*parseInt(o))!==10&&a.value&&(a.value=a.value.slice((parseInt(o.value)-1)*i||(parseInt(o)-1)*i,parseInt(o.value)*i||parseInt(o)*i),e.value=!1),e.value=!1},jo={name:"errorHandler"},Co={class:"error__handler"},$o=t("h2",null,[t("i",{class:"fas fa-exclamation-circle"})],-1),Io=t("p",null,"Sorry, we couldn't found nothing here why dont you go back and try again",-1),Lo=t("h2",null,[t("i",{class:"far fa-smile"})],-1),Ao=[$o,Io,Lo];function Mo(e,a,r,o,i,n){return _(),m("div",Co,Ao)}var J=b(jo,[["render",Mo]]);const Oo={name:"pagination",props:{search:String}},Uo={class:"pagination__container"},xo=d("1"),No=d("2"),To=d("3"),Do=d("4"),Eo=d("5"),Ho=d("6"),Po=d("7"),Ro=d("8"),Vo=d("9"),zo=d("10");function Jo(e,a,r,o,i,n){const s=y("router-link");return _(),m("div",Uo,[u(s,{to:{name:"Searcher",params:{search:r.search,page:"1"}}},{default:p(()=>[xo]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"2"}}},{default:p(()=>[No]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"3"}}},{default:p(()=>[To]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"4"}}},{default:p(()=>[Do]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"5"}}},{default:p(()=>[Eo]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"6"}}},{default:p(()=>[Ho]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"7"}}},{default:p(()=>[Po]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"8"}}},{default:p(()=>[Ro]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"9"}}},{default:p(()=>[Vo]),_:1},8,["to"]),u(s,{to:{name:"Searcher",params:{search:r.search,page:"10"}}},{default:p(()=>[zo]),_:1},8,["to"])])}var qo=b(Oo,[["render",Jo]]);const Bo={name:"jobComponent",methods:{favHandler:z},computed:{favourites(){return c.getters.getUserData.favourites}},setup(){return{jobs:U("job")}}},Fo={class:"job__header containerItem"},Zo={class:"job__title"},Go={class:"job__body containerItem"},Wo={class:"job__description"},Yo={class:"job__action"},Ko=d("Read more "),Qo=["href"],Xo={class:"job__footer containerItem"},ea={class:"job__span"},oa={class:"job__provider"},aa=d("Posted by "),sa={class:"job__span"},ta={class:"job__somedata"},na=d("Located on "),ra={class:"job__span job__location"},ia={class:"job__somedata"},la=d("Posted on "),ca={class:"job__span"},da={class:"job__somedata"},_a=d("Tag: "),ua={class:"job__span"},ma=["onClick"];function pa(e,a,r,o,i,n){return _(!0),m(M,null,P(o.jobs,s=>(_(),m("article",{class:"job__container",key:s.id},[t("div",Fo,[t("h4",Zo,h(s.title),1)]),t("div",Go,[t("p",Wo,h(s.description),1),t("p",Yo,[Ko,t("a",{class:"job__go",target:"blank",href:s.redirect_url},"Here",8,Qo)])]),t("div",Xo,[t("p",ea,h(s.salary_min)+"\u20AC - "+h(s.salary_max)+"\u20AC per year",1),t("p",oa,[aa,t("span",sa,h(s.company.display_name),1)]),t("p",ta,[na,t("span",ra,h(s.location.area[0])+", "+h(s.location.display_name),1)]),t("p",ia,[la,t("span",ca,h(s.created),1)]),t("p",da,[_a,t("span",ua,h(s.category.label),1)]),t("button",{onClick:l=>n.favHandler(l,s),class:"fav__btn"},[t("i",{class:w(n.favourites.some(l=>l.id===s.id)?"fas fa-heart":"far fa-heart")},null,2)],8,ma)])]))),128)}var ha=b(Bo,[["render",pa]]);const ga={name:"Searcher",components:{spinner:V,errorHandler:J,pagination:qo,jobComponent:ha},computed:{isLog(){return c.getters.getUserData.log},isUp(){return c.getters.getUserData.isUp},added(){return c.getters.getUserData.added},removed(){return c.getters.getUserData.removed}},setup(){const e=R(),a=f([]),r=f(null),o=f("1"),{search:i}=e.params,n=E("job",a);return G(()=>{$.replace(`/search/${i.replace(/[^A-Za-z]/g,"")}/`),setTimeout(()=>{$.replace(`/search/${i.replace(/[^A-Za-z]/g,"+")}/${o.value}`)},300)}),W(()=>{const{page:s}=e.params;o.value=s}),Y(()=>e.params.page,()=>{const{page:s}=e.params;s&&wo({loading:r,jobs:a,search:i,page:s})}),{search:i,jobs:a,loading:r,jobpassed:n}}},fa={class:"job__section containerItem"},va=t("p",{class:"fav__sentece"},"Added to Fav",-1),ba=[va],ka=t("p",{class:"fav__sentece"},"Removed to Fav",-1),ya=[ka];function Sa(e,a,r,o,i,n){const s=y("spinner"),l=y("errorHandler"),S=y("jobComponent"),I=y("pagination");return _(),m("section",fa,[g(u(s,null,null,512),[[v,o.loading]]),o.jobs?k("",!0):(_(),C(l,{key:0})),o.jobs?(_(),m(M,{key:1},[u(S),g(u(I,{search:o.search},null,8,["search"]),[[v,o.loading!==null&&!o.loading&&o.jobs]])],64)):k("",!0),g(t("div",{class:w(["modal__fav",n.isUp?"isUp":""])},ba,2),[[v,n.added]]),g(t("div",{class:w([n.isUp?"isUp":"","modal__fav"])},ya,2),[[v,n.removed]])])}var wa=b(ga,[["render",Sa]]);const ja={name:"Login",data(){return{user:"",errorGoogleMsg:"",allOk:!0}},methods:{async handleClickSignIn(){const e=await this.$gAuth.signIn();if(!e)return null;this.user=e.getBasicProfile();const a={id_token:e.getAuthResponse().id_token};c.dispatch("loading"),fetch("https://jobberr.herokuapp.com/api/login/google",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(r=>r.json()).then(r=>{if(r.success)c.dispatch("loading"),window.localStorage.setItem("tk",r.token),c.dispatch("addAllData",r.user),$.push("/");else return c.dispatch("loading"),this.allOk=!1,this.errorGoogleMsg=r.msg,null})}},setup(){const e=U("Vue3GoogleOauth"),a=f(""),r=f(""),o=f(!0),i=f("");return{Vue3GoogleOauth:e,signInNormal:()=>{if(r.value!==""&&a.value!==""){const s={password:r.value,email:a.value};c.dispatch("loading"),fetch("https://jobberr.herokuapp.com/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(l=>l.json()).then(l=>{l.success?(c.dispatch("loading"),window.localStorage.setItem("tk",l.token),c.dispatch("addAllData",l.user),$.push("/")):(c.dispatch("loading"),o.value=!1,i.value=l.msg||l.errors[0].msg)})}},email:a,password:r,handleSubmitError:o,errorMsg:i}}},Ca={class:"container"},$a={class:"login__container"},Ia=t("h1",{class:"big__logo"},"obber",-1),La=t("img",{src:"https://avatars2.githubusercontent.com/u/1342004?v=3&s=400",alt:"google"},null,-1),Aa=t("a",{href:"#"},"sign up with Google",-1),Ma=[La,Aa],Oa={class:"normal__login"},Ua={class:"linkdiv"},xa=d("Dont have an account? create one for free");function Na(e,a,r,o,i,n){const s=y("router-link");return _(),m("section",Ca,[t("div",$a,[Ia,t("div",{onClick:a[0]||(a[0]=(...l)=>n.handleClickSignIn&&n.handleClickSignIn(...l)),class:"google"},Ma),t("div",Oa,[t("form",{onSubmit:a[4]||(a[4]=x((...l)=>o.signInNormal&&o.signInNormal(...l),["prevent"]))},[g(t("input",{class:"login__field","onUpdate:modelValue":a[1]||(a[1]=l=>o.email=l),required:"",type:"text",name:"email",placeholder:"example: example@gmail.com"},null,512),[[j,o.email,void 0,{trim:!0}]]),g(t("input",{class:"login__field","onUpdate:modelValue":a[2]||(a[2]=l=>o.password=l),required:"",type:"password",name:"password",placeholder:"Password"},null,512),[[j,o.password,void 0,{trim:!0}]]),t("button",{onClick:a[3]||(a[3]=(...l)=>o.signInNormal&&o.signInNormal(...l))},"Log In")],32),g(t("p",{class:"error qzar"},h(o.errorMsg),513),[[v,!o.handleSubmitError]]),g(t("p",{class:"error qzar"},h(i.errorGoogleMsg),513),[[v,!i.allOk]])]),t("div",Ua,[u(s,{to:"/signin"},{default:p(()=>[xa]),_:1})])])])}var Ta=b(ja,[["render",Na]]);const Da={name:"Signin",setup(){const e=f(""),a=f(!0),r=f(""),o=f(!0),i=f(""),n=f(""),s=f(!0),l=f(!1),S=f(""),I=new RegExp(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),q=new RegExp(/^[a-zA-Z]+$/),N=()=>{I.test(r.value)?o.value=!0:o.value=!1},T=()=>{q.test(e.value)?a.value=!0:a.value=!1},D=()=>{i.value===n.value&&i.value!==""?s.value=!0:s.value=!1};return{name:e,email:r,password:i,repeatPassword:n,validName:a,validEmail:o,areTheSame:s,submitSucces:l,failMsg:S,testName:T,testEmail:N,comparePassword:D,handleSubmit:()=>{if(N(),T(),D(),a.value&&o.value&&s.value){const B={name:e.value,email:r.value,password:i.value};fetch("https://jobberr.herokuapp.com/api/user/new",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}).then(A=>A.json()).then(A=>{A.success?l.value=!0:(l.value=0,S.value=A.msg)})}}}}},Ea={class:"container"},Ha={class:"signin__container"},Pa={class:"signin__items"},Ra={class:"error"},Va={class:"signin__items"},za={class:"error"},Ja={class:"signin__items"},qa=t("label",{for:"password"},"Password:",-1),Ba={class:"signin__items"},Fa={class:"error"},Za=t("button",{class:"submit__btn"},"Sign In",-1),Ga={class:"submit__handlers"},Wa={class:"submit__ok"};function Ya(e,a,r,o,i,n){return _(),m("article",Ea,[t("div",Ha,[t("form",{onSubmit:a[6]||(a[6]=x((...s)=>o.handleSubmit&&o.handleSubmit(...s),["prevent"]))},[t("div",Pa,[t("label",{class:w(o.validName?"":"error"),for:"name"},"Name:",2),g(t("input",{class:w([o.validName?"":"error-field","login__field"]),onChange:a[0]||(a[0]=(...s)=>o.testName&&o.testName(...s)),placeholder:"example: John Sanchez",id:"name","onUpdate:modelValue":a[1]||(a[1]=s=>o.name=s),type:"text"},null,34),[[j,o.name,void 0,{trim:!0}]]),g(t("p",Ra,"The name is required and must be only letters",512),[[v,!o.validName]])]),t("div",Va,[t("label",{class:w(o.validEmail?"":"error"),for:"email"},"Email:",2),g(t("input",{class:w([o.validEmail?"":"error-field","login__field"]),onChange:a[2]||(a[2]=(...s)=>o.testEmail&&o.testEmail(...s)),placeholder:"example: example@gmail.com",id:"email","onUpdate:modelValue":a[3]||(a[3]=s=>o.email=s),type:"email"},null,34),[[j,o.email,void 0,{trim:!0}]]),g(t("p",za,"The Email is required, please enter a valid email",512),[[v,!o.validEmail]])]),t("div",Ja,[qa,g(t("input",{placeholder:"*******",id:"password",class:"login__field","onUpdate:modelValue":a[4]||(a[4]=s=>o.password=s),type:"password"},null,512),[[j,o.password,void 0,{trim:!0}]])]),t("div",Ba,[t("label",{class:w(o.areTheSame?"":"error"),for:"repeatPassword"},"Confirm password:",2),g(t("input",{class:w([o.areTheSame?"":"error-field","login__field"]),placeholder:"",id:"repeatPassword","onUpdate:modelValue":a[5]||(a[5]=s=>o.repeatPassword=s),type:"password"},null,2),[[j,o.repeatPassword,void 0,{trim:!0}]]),g(t("p",Fa,"Password is required and must be the same",512),[[v,!o.areTheSame]])]),Za,t("div",Ga,[g(t("p",Wa," We has send a confirmation email to your email account, please go and confirm your account ",512),[[v,o.submitSucces]]),g(t("p",{class:"submit__wrong"},h(o.failMsg),513),[[v,o.submitSucces===0]])])],32)])])}var Ka=b(Da,[["render",Ya]]);const Qa={name:"Confirmation",setup(){const e=f(""),a=f(!1),r=f(!1),o=R().params.token;return(()=>{fetch("https://jobberr.herokuapp.com/api/",{method:"PUT",headers:{"x-token":o,"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{n.succes?(a.value=!0,r.value=!0,e.value=n.msg):(a.value=!0,r.value=!1,e.value=n.msg)})})(),{msg:e,succes:r,ready:a}}},Xa={class:"confirmation__msg"},es=d("Log in now!");function os(e,a,r,o,i,n){const s=y("router-link");return g((_(),m("div",{class:w(["confirmation",o.succes?"succes":"error__background"])},[t("p",Xa,h(o.msg),1),u(s,{class:"confirmation__link",to:"/login"},{default:p(()=>[es]),_:1})],2)),[[v,!o.ready]])}var as=b(Qa,[["render",os]]);const $=K({history:Q("/"),routes:[{path:"/",name:"Home",component:Re},{path:"/login",name:"Login",component:Ta},{path:"/search/:search/:page?",name:"Searcher",component:wa},{path:"/about",name:"about",component:Fe},{path:"/myjobs",name:"myJobs",component:So},{path:"/signin",name:"Signin",component:Ka},{path:"/confirm/:token",name:"Confirmation",component:as},{path:"/:pathMatch(.*)",name:"errorHandler",component:J}]}),O=X(Ae),ss="998006317783-agbkeqp71umt62f6u9ifsj3jiomhltnd.apps.googleusercontent.com";O.use(ee,{clientId:ss,scope:"profile",prompt:"consent",fetch_basic_profile:!0});O.use($);O.use(c);O.mount("#app");
